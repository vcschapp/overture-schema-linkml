Proof of concept for migrating the [Overture Maps Schema](https://github.com/OvertureMaps/schema)
to [LinkML](https://linkml.io/).

# UML diagram

Here is a PlantUML rendering of the progress to date using `$ linkml generate plantuml schema/schema.yaml`...

![UML diagram generated by PlantUML based on POC schema](plantuml.svg)

# Next steps

1. Model sources. This is a good opportunity to try using LinkML's built-in
   JSON Pointer type.
2. Possibilities and limitations for geometry:
    - Can we limit geometry types available to specific feature types?
    - Is there some kind of reasonable "default" representation of geometry?
    - Does LinkML natively support a binary type such that the default
      representation could be binary? Should it support that?
    - Is it feasible to emulate a binary type by creating an "array of bytes"
      type?
    - Do annotations help with anything?
3. Specific generator mods:
    - Can a Parquet schema generator be created? (Maybe the output dialects
      are PySpark types, Scala types, or a JSON format?)
    - Can a GeoJSON-flavored JSON Schema generated be created?
    - Can any of the existing language mapping generators be enhanced with
         1. GeoJSON serde support?
         2. Spark dataframe serde support?

# Issues

## Bugs

- [JSON schema generator wrongly selects `string` for all indirect types](https://github.com/linkml/linkml/issues/2666)

## Enhancement Requests

- [Native geometry type](https://github.com/linkml/linkml/issues/2667)

# Entity-Relationship Diagram

Below is the *verbatim* output of `$ linkml generate erdiagram schema/schema.yaml`:

```mermaid
erDiagram
Geometry {

}
Point {

}
LineString {

}
Polygon {

}
MultiPolygon {

}
NameCommon {
    language_tag language  
    string_non_empty_trimmed value  
}
NameRule {
    name_variant variant  
    string_non_empty_trimmed value  
    linearly_referenced_positionList between  
    side side  
}
Names {
    string_non_empty_trimmed primary  
}
Perspectives {
    perspective_mode mode  
    country_codeList countries  
}
Source {
    jsonpointer property  
    string_non_empty_trimmed dataset  
    string_non_empty_trimmed record_id  
    timestamp update_time  
    confidence confidence  
    linearly_referenced_positionList between  
}
ScopeGeometricRange {
    linearly_referenced_positionList between  
}
ScopePerspectives {

}
ScopeSide {
    side side  
}
Feature {
    uuid id  
    string type  
    integer_positive version  
    theme theme  
}
Building {
    uuid id  
    string type  
    integer_positive version  
    theme_buildings theme  
}
BuildingPart {
    uuid id  
    string type  
    integer_positive version  
    theme_buildings theme  
}

NameRule ||--|o Perspectives : "perspectives"
Names ||--}o NameCommon : "common"
Names ||--}o NameRule : "rules"
ScopePerspectives ||--|o Perspectives : "perspectives"
Feature ||--|| Geometry : "geometry"
Feature ||--}o Source : "sources"
Building ||--|o Names : "names"
Building ||--|| Geometry : "geometry"
Building ||--}o Source : "sources"
BuildingPart ||--|| Building : "building_id"
BuildingPart ||--|o Names : "names"
BuildingPart ||--|| Geometry : "geometry"
BuildingPart ||--}o Source : "sources"

```
